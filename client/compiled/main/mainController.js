'use strict';

angular.module('main', []).controller('wanderController', function ($scope, $http, $window) {

  $scope.owned = [];
  $scope.borrowing = [];

  $scope.borrowItem = function (item) {
    console.log(item);
  };

  $scope.updateOaL = function () {
    $http({
      method: 'GET',
      url: '/items/'
    }).then(function (update) {
      update.data.map(function (item) {
        $scope.owned.push(item);
      });
    });
  };

  $scope.update = function () {
    $http({
      method: 'GET',
      url: '/items/all/'
    }).then(function (update) {
      $scope.allItemsList = update.data;
    });
  };

  $scope.submitItem = function (item) {
    console.log('it worked!');
    if (item) {
      $http({
        method: 'POST',
        url: '/items/',
        data: { item: item }
      }).then(function (res) {
        console.log('sent!');
        $scope.update();
        $scope.updateOaL();
      });

      $scope.item = '';
    } else {
      console.log('invalid string');
    }
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2FwcC9tYWluL21haW5Db250cm9sbGVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsUUFBUSxNQUFSLENBQWUsTUFBZixFQUF1QixFQUF2QixFQUNDLFVBREQsQ0FDWSxrQkFEWixFQUNnQyxVQUFDLE1BQUQsRUFBUyxLQUFULEVBQWdCLE9BQWhCLEVBQTRCOztBQUUxRCxTQUFPLEtBQVAsR0FBZSxFQUFmO0FBQ0EsU0FBTyxTQUFQLEdBQW1CLEVBQW5COztBQUdBLFNBQU8sVUFBUCxHQUFvQixVQUFDLElBQUQsRUFBVTtBQUM1QixZQUFRLEdBQVIsQ0FBWSxJQUFaO0FBQ0QsR0FGRDs7QUFJQSxTQUFPLFNBQVAsR0FBbUIsWUFBTTtBQUN2QixVQUFNO0FBQ0osY0FBUSxLQURKO0FBRUosV0FBSztBQUZELEtBQU4sRUFJQyxJQUpELENBSU0sVUFBQyxNQUFELEVBQVk7QUFDaEIsYUFBTyxJQUFQLENBQVksR0FBWixDQUFnQixVQUFDLElBQUQsRUFBVTtBQUN4QixlQUFPLEtBQVAsQ0FBYSxJQUFiLENBQWtCLElBQWxCO0FBQ0QsT0FGRDtBQUdELEtBUkQ7QUFTRCxHQVZEOztBQVlBLFNBQU8sTUFBUCxHQUFnQixZQUFNO0FBQ3BCLFVBQU07QUFDSixjQUFRLEtBREo7QUFFSixXQUFLO0FBRkQsS0FBTixFQUlDLElBSkQsQ0FJTSxVQUFDLE1BQUQsRUFBWTtBQUNoQixhQUFPLFlBQVAsR0FBc0IsT0FBTyxJQUE3QjtBQUNELEtBTkQ7QUFPRCxHQVJEOztBQVVBLFNBQU8sVUFBUCxHQUFvQixVQUFDLElBQUQsRUFBVTtBQUM1QixZQUFRLEdBQVIsQ0FBWSxZQUFaO0FBQ0EsUUFBSSxJQUFKLEVBQVU7QUFDUixZQUFNO0FBQ0osZ0JBQVEsTUFESjtBQUVKLGFBQUssU0FGRDtBQUdKLGNBQU0sRUFBQyxNQUFNLElBQVA7QUFIRixPQUFOLEVBS0MsSUFMRCxDQUtNLFVBQUMsR0FBRCxFQUFTO0FBQ2IsZ0JBQVEsR0FBUixDQUFZLE9BQVo7QUFDQSxlQUFPLE1BQVA7QUFDQSxlQUFPLFNBQVA7QUFDRCxPQVREOztBQVdBLGFBQU8sSUFBUCxHQUFjLEVBQWQ7QUFFRCxLQWRELE1BY087QUFDTCxjQUFRLEdBQVIsQ0FBWSxnQkFBWjtBQUNEO0FBQ0YsR0FuQkQ7QUFxQkQsQ0F0REQiLCJmaWxlIjoibWFpbkNvbnRyb2xsZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnbWFpbicsIFtdKVxuLmNvbnRyb2xsZXIoJ3dhbmRlckNvbnRyb2xsZXInLCAoJHNjb3BlLCAkaHR0cCwgJHdpbmRvdykgPT4ge1xuXG4gICRzY29wZS5vd25lZCA9IFtdO1xuICAkc2NvcGUuYm9ycm93aW5nID0gW107XG5cblxuICAkc2NvcGUuYm9ycm93SXRlbSA9IChpdGVtKSA9PiB7XG4gICAgY29uc29sZS5sb2coaXRlbSk7XG4gIH1cblxuICAkc2NvcGUudXBkYXRlT2FMID0gKCkgPT4ge1xuICAgICRodHRwKHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICB1cmw6ICcvaXRlbXMvJ1xuICAgIH0pXG4gICAgLnRoZW4oKHVwZGF0ZSkgPT4ge1xuICAgICAgdXBkYXRlLmRhdGEubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICRzY29wZS5vd25lZC5wdXNoKGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfSlcbiAgfVxuXG4gICRzY29wZS51cGRhdGUgPSAoKSA9PiB7XG4gICAgJGh0dHAoe1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHVybDogJy9pdGVtcy9hbGwvJ1xuICAgIH0pXG4gICAgLnRoZW4oKHVwZGF0ZSkgPT4ge1xuICAgICAgJHNjb3BlLmFsbEl0ZW1zTGlzdCA9IHVwZGF0ZS5kYXRhO1xuICAgIH0pO1xuICB9XG5cbiAgJHNjb3BlLnN1Ym1pdEl0ZW0gPSAoaXRlbSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdpdCB3b3JrZWQhJylcbiAgICBpZiAoaXRlbSkge1xuICAgICAgJGh0dHAoe1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgdXJsOiAnL2l0ZW1zLycsXG4gICAgICAgIGRhdGE6IHtpdGVtOiBpdGVtfVxuICAgICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ3NlbnQhJyk7XG4gICAgICAgICRzY29wZS51cGRhdGUoKTtcbiAgICAgICAgJHNjb3BlLnVwZGF0ZU9hTCgpO1xuICAgICAgfSk7XG5cbiAgICAgICRzY29wZS5pdGVtID0gJyc7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ2ludmFsaWQgc3RyaW5nJyk7XG4gICAgfVxuICB9O1xuXG59KTtcbiJdfQ==